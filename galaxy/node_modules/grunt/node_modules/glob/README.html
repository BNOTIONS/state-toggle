<!DOCTYPE html><html><head><link rel="stylesheet" href="galaxy/galaxy.css"><link rel="stylesheet" href="//cloud.typography.com/6579472/723444/css/fonts.css"><script src="jquery.js"></script><script src="docs.js"></script><script src="https://galaxyui.com/js/prism.js"></script></head><body ondragstart="return false"><header><ul><li><a href="//www.bnotions.com"><img src="media/logo.svg" width="130"></a></li><li><a href="http://www.bnotions.com/insights/">Stories</a></li><li><a href="https://medium.com/bnotions">Screen Theory</a></li></ul></header><h1>Glob</h1>
<p>This is a glob implementation in JavaScript.  It uses the <code>minimatch</code>
library to do its matching.</p>
<h2>Attention: node-glob users!</h2>
<p>The API has changed dramatically between 2.x and 3.x. This library is
now 100% JavaScript, and the integer flags have been replaced with an
options object.</p>
<p>Also, there&#39;s an event emitter class, proper tests, and all the other
things you&#39;ve come to expect from node modules.</p>
<p>And best of all, no compilation!</p>
<h2>Usage</h2>
<pre><code class="language-javascript">var glob = require(&quot;glob&quot;)

// options is optional
glob(&quot;**/*.js&quot;, options, function (er, files) {
  // files is an array of filenames.
  // If the `nonull` option is set, and nothing
  // was found, then files is [&quot;**/*.js&quot;]
  // er is an error object or null.
})</code></pre>
<h2>Features</h2>
<p>Please see the <a href="https://github.com/isaacs/minimatch">minimatch
documentation</a> for more details.</p>
<p>Supports these glob features:</p>
<ul>
<li>Brace Expansion</li>
<li>Extended glob matching</li>
<li>&quot;Globstar&quot; <code>**</code> matching</li>
</ul>
<p>See:</p>
<ul>
<li><code>man sh</code></li>
<li><code>man bash</code></li>
<li><code>man 3 fnmatch</code></li>
<li><code>man 5 gitignore</code></li>
<li><a href="https://github.com/isaacs/minimatch">minimatch documentation</a></li>
</ul>
<h2>glob(pattern, [options], cb)</h2>
<ul>
<li><code>pattern</code> {String} Pattern to be matched</li>
<li><code>options</code> {Object}</li>
<li><code>cb</code> {Function}<ul>
<li><code>err</code> {Error | null}</li>
<li><code>matches</code> {Array<String>} filenames found matching the pattern</li>
</ul>
</li>
</ul>
<p>Perform an asynchronous glob search.</p>
<h2>glob.sync(pattern, [options]</h2>
<ul>
<li><code>pattern</code> {String} Pattern to be matched</li>
<li><code>options</code> {Object}</li>
<li>return: {Array<String>} filenames found matching the pattern</li>
</ul>
<p>Perform a synchronous glob search.</p>
<h2>Class: glob.Glob</h2>
<p>Create a Glob object by instanting the <code>glob.Glob</code> class.</p>
<pre><code class="language-javascript">var Glob = require(&quot;glob&quot;).Glob
var mg = new Glob(pattern, options, cb)</code></pre>
<p>It&#39;s an EventEmitter, and starts walking the filesystem to find matches
immediately.</p>
<h3>new glob.Glob(pattern, [options], [cb])</h3>
<ul>
<li><code>pattern</code> {String} pattern to search for</li>
<li><code>options</code> {Object}</li>
<li><code>cb</code> {Function} Called when an error occurs, or matches are found<ul>
<li><code>err</code> {Error | null}</li>
<li><code>matches</code> {Array<String>} filenames found matching the pattern</li>
</ul>
</li>
</ul>
<p>Note that if the <code>sync</code> flag is set in the options, then matches will
be immediately available on the <code>g.found</code> member.</p>
<h3>Properties</h3>
<ul>
<li><code>minimatch</code> The minimatch object that the glob uses.</li>
<li><code>options</code> The options object passed in.</li>
<li><code>error</code> The error encountered.  When an error is encountered, the
glob object is in an undefined state, and should be discarded.</li>
<li><code>aborted</code> Boolean which is set to true when calling <code>abort()</code>.  There
is no way at this time to continue a glob search after aborting, but
you can re-use the statCache to avoid having to duplicate syscalls.</li>
</ul>
<h3>Events</h3>
<ul>
<li><code>end</code> When the matching is finished, this is emitted with all the
matches found.  If the <code>nonull</code> option is set, and no match was found,
then the <code>matches</code> list contains the original pattern.  The matches
are sorted, unless the <code>nosort</code> flag is set.</li>
<li><code>match</code> Every time a match is found, this is emitted with the matched.</li>
<li><code>error</code> Emitted when an unexpected error is encountered, or whenever
any fs error occurs if <code>options.strict</code> is set.</li>
<li><code>abort</code> When <code>abort()</code> is called, this event is raised.</li>
</ul>
<h3>Methods</h3>
<ul>
<li><code>abort</code> Stop the search.</li>
</ul>
<h3>Options</h3>
<p>All the options that can be passed to Minimatch can also be passed to
Glob to change pattern matching behavior.  Also, some have been added,
or have glob-specific ramifications.</p>
<p>All options are false by default, unless otherwise noted.</p>
<p>All options are added to the glob object, as well.</p>
<ul>
<li><code>cwd</code> The current working directory in which to search.  Defaults
to <code>process.cwd()</code>.</li>
<li><code>root</code> The place where patterns starting with <code>/</code> will be mounted
onto.  Defaults to <code>path.resolve(options.cwd, &quot;/&quot;)</code> (<code>/</code> on Unix
systems, and <code>C:\</code> or some such on Windows.)</li>
<li><code>nomount</code> By default, a pattern starting with a forward-slash will be
&quot;mounted&quot; onto the root setting, so that a valid filesystem path is
returned.  Set this flag to disable that behavior.</li>
<li><code>mark</code> Add a <code>/</code> character to directory matches.  Note that this
requires additional stat calls.</li>
<li><code>nosort</code> Don&#39;t sort the results.</li>
<li><code>stat</code> Set to true to stat <em>all</em> results.  This reduces performance
somewhat, and is completely unnecessary, unless <code>readdir</code> is presumed
to be an untrustworthy indicator of file existence.  It will cause
ELOOP to be triggered one level sooner in the case of cyclical
symbolic links.</li>
<li><code>silent</code> When an unusual error is encountered
when attempting to read a directory, a warning will be printed to
stderr.  Set the <code>silent</code> option to true to suppress these warnings.</li>
<li><code>strict</code> When an unusual error is encountered
when attempting to read a directory, the process will just continue on
in search of other matches.  Set the <code>strict</code> option to raise an error
in these cases.</li>
<li><code>statCache</code> A cache of results of filesystem information, to prevent
unnecessary stat calls.  While it should not normally be necessary to
set this, you may pass the statCache from one glob() call to the
options object of another, if you know that the filesystem will not
change between calls.  (See &quot;Race Conditions&quot; below.)</li>
<li><code>sync</code> Perform a synchronous glob search.</li>
<li><code>nounique</code> In some cases, brace-expanded patterns can result in the
same file showing up multiple times in the result set.  By default,
this implementation prevents duplicates in the result set.
Set this flag to disable that behavior.</li>
<li><code>nonull</code> Set to never return an empty set, instead returning a set
containing the pattern itself.  This is the default in glob(3).</li>
<li><code>nocase</code> Perform a case-insensitive match.  Note that case-insensitive
filesystems will sometimes result in glob returning results that are
case-insensitively matched anyway, since readdir and stat will not
raise an error.</li>
<li><code>debug</code> Set to enable debug logging in minimatch and glob.</li>
<li><code>globDebug</code> Set to enable debug logging in glob, but not minimatch.</li>
</ul>
<h2>Comparisons to other fnmatch/glob implementations</h2>
<p>While strict compliance with the existing standards is a worthwhile
goal, some discrepancies exist between node-glob and other
implementations, and are intentional.</p>
<p>If the pattern starts with a <code>!</code> character, then it is negated.  Set the
<code>nonegate</code> flag to suppress this behavior, and treat leading <code>!</code>
characters normally.  This is perhaps relevant if you wish to start the
pattern with a negative extglob pattern like <code>!(a|B)</code>.  Multiple <code>!</code>
characters at the start of a pattern will negate the pattern multiple
times.</p>
<p>If a pattern starts with <code>#</code>, then it is treated as a comment, and
will not match anything.  Use <code>\#</code> to match a literal <code>#</code> at the
start of a line, or set the <code>nocomment</code> flag to suppress this behavior.</p>
<p>The double-star character <code>**</code> is supported by default, unless the
<code>noglobstar</code> flag is set.  This is supported in the manner of bsdglob
and bash 4.1, where <code>**</code> only has special significance if it is the only
thing in a path part.  That is, <code>a/**/b</code> will match <code>a/x/y/b</code>, but
<code>a/**b</code> will not.  <strong>Note that this is different from the way that `</strong><code>is
handled by ruby&#39;s</code>Dir` class.**</p>
<p>If an escaped pattern has no matches, and the <code>nonull</code> flag is set,
then glob returns the pattern as-provided, rather than
interpreting the character escapes.  For example,
<code>glob.match([], &quot;\\*a\\?&quot;)</code> will return <code>&quot;\\*a\\?&quot;</code> rather than
<code>&quot;*a?&quot;</code>.  This is akin to setting the <code>nullglob</code> option in bash, except
that it does not resolve escaped pattern characters.</p>
<p>If brace expansion is not disabled, then it is performed before any
other interpretation of the glob pattern.  Thus, a pattern like
<code>+(a|{b),c)}</code>, which would not be valid in bash or zsh, is expanded
<strong>first</strong> into the set of <code>+(a|b)</code> and <code>+(a|c)</code>, and those patterns are
checked for validity.  Since those two are valid, matching proceeds.</p>
<h2>Windows</h2>
<p><strong>Please only use forward-slashes in glob expressions.</strong></p>
<p>Though windows uses either <code>/</code> or <code>\</code> as its path separator, only <code>/</code>
characters are used by this glob implementation.  You must use
forward-slashes <strong>only</strong> in glob expressions.  Back-slashes will always
be interpreted as escape characters, not path separators.</p>
<p>Results from absolute patterns such as <code>/foo/*</code> are mounted onto the
root setting using <code>path.join</code>.  On windows, this will by default result
in <code>/foo/*</code> matching <code>C:\foo\bar.txt</code>.</p>
<h2>Race Conditions</h2>
<p>Glob searching, by its very nature, is susceptible to race conditions,
since it relies on directory walking and such.</p>
<p>As a result, it is possible that a file that exists when glob looks for
it may have been deleted or modified by the time it returns the result.</p>
<p>As part of its internal implementation, this program caches all stat
and readdir calls that it makes, in order to cut down on system
overhead.  However, this also makes it even more susceptible to races,
especially if the statCache object is reused between glob calls.</p>
<p>Users are thus advised not to use a glob result as a
guarantee of filesystem state in the face of rapid changes.
For the vast majority of operations, this is never a problem.</p>
<footer g="md-margin-t"><ul g="md-container lg-padding-tb centered"><li><a href="https://twitter.com/BNOTIONS" class="twitter-follow-button" data-show-count="false">Follow @BNOTIONS</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></li></ul></footer></body></html>