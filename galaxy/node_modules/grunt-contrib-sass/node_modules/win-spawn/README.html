<!DOCTYPE html><html><head><link rel="stylesheet" href="galaxy/galaxy.css"><link rel="stylesheet" href="//cloud.typography.com/6579472/723444/css/fonts.css"><script src="jquery.js"></script><script src="docs.js"></script><script src="https://galaxyui.com/js/prism.js"></script></head><body ondragstart="return false"><header><ul><li><a href="//www.bnotions.com"><img src="media/logo.svg" width="130"></a></li><li><a href="http://www.bnotions.com/insights/">Stories</a></li><li><a href="https://medium.com/bnotions">Screen Theory</a></li></ul></header><h1>win-spawn</h1>
<p>  Spawn for node.js but in a way that works regardless of which OS you&#39;re using.  Use this if you want to use spawn with a JavaScript file.  It works by explicitly invoking node on windows.  It also shims support for environment variable setting by attempting to parse the command with a regex.  Since all modification is wrapped in <code>if (os === &#39;Windows_NT&#39;)</code> it can be safely used on non-windows systems and will not break anything.</p>
<h2>Installation</h2>
<p>  $ npm install win-spawn</p>
<h2>Usage</h2>
<h3>Command Line</h3>
<p>  All the following will work exactly as if the &#39;win-spawn &#39; prefix was ommitted when on unix.</p>
<pre><code>$ win-spawn foo
$ win-spawn ./bin/foo
$ win-spawn NODE_PATH=./lib foo
$ win-spawn NODE_PATH=./lib foo arg1 arg2</code></pre>
<p>  You can also transform all the line endings in a directory from <code>\r\n</code> to <code>\n</code> just by running:</p>
<pre><code>$ win-line-endings</code></pre>
<p>  You can preview the changes by running:</p>
<pre><code>$ win-line-endings -p</code></pre>
<p>  It will ignore <code>node_modules</code> and <code>.git</code> by default, but is not clever enough to recognise binary files yet.</p>
<h3>API</h3>
<p>This will just pass through to <code>child_process.spawn</code> on unix systems, but will correctly parse the arguments on windows.</p>
<pre><code class="language-javascript">spawn(&#39;foo&#39;, [], {stdio: &#39;inherit&#39;});
spawn(&#39;./bin/foo&#39;, [], {stdio: &#39;inherit&#39;});
spawn(&#39;NODE_PATH=./lib foo&#39;, [], {stdio: &#39;inherit&#39;});
spawn(&#39;NODE_PATH=./lib foo&#39;, [arg1, arg2], {stdio: &#39;inherit&#39;});</code></pre>
<p><img src="https://viewcount.jepso.com/count/ForbesLindesay/win-spawn.png" alt="viewcount"></p>
<footer g="md-margin-t"><ul g="md-container lg-padding-tb centered"><li><a href="https://twitter.com/BNOTIONS" class="twitter-follow-button" data-show-count="false">Follow @BNOTIONS</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></li></ul></footer></body></html>