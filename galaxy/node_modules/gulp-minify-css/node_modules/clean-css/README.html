<!DOCTYPE html><html><head><link rel="stylesheet" href="galaxy/galaxy.css"><link rel="stylesheet" href="styles/docs.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css"></head><body><p><a href="https://badge.fury.io/js/clean-css"><img src="https://badge.fury.io/js/clean-css.svg" alt="NPM version"></a>
<a href="https://travis-ci.org/jakubpawlowicz/clean-css"><img src="https://secure.travis-ci.org/jakubpawlowicz/clean-css.svg?branch=master" alt="Build Status"></a>
<a href="https://david-dm.org/jakubpawlowicz/clean-css"><img src="https://david-dm.org/jakubpawlowicz/clean-css.svg?theme=shields.io" alt="Dependency Status"></a>
<a href="https://david-dm.org/jakubpawlowicz/clean-css#info=devDependencies"><img src="https://david-dm.org/jakubpawlowicz/clean-css/dev-status.svg?theme=shields.io" alt="devDependency Status"></a></p>
<h2>What is clean-css?</h2>
<p>Clean-css is a fast and efficient <a href="http://nodejs.org/">Node.js</a> library for minifying CSS files.</p>
<p>According to <a href="http://goalsmashers.github.io/css-minification-benchmark/">tests</a> it is one of the best available.</p>
<h2>Usage</h2>
<h3>What are the requirements?</h3>
<pre><code>Node.js 0.10.0+ (tested on CentOS, Ubuntu, OS X 10.6+, and Windows 7+)</code></pre>
<h3>How to install clean-css?</h3>
<pre><code>npm install clean-css</code></pre>
<h3>How to upgrade clean-css from 2.x to 3.x?</h3>
<h4>Command-line interface (CLI) - no breaking changes.</h4>
<h4>Module interface</h4>
<ul>
<li><code>noAdvanced</code> became <code>advanced</code> - make sure to reverse the value;</li>
<li><code>noAggressiveMerging</code> became <code>aggressiveMerging</code> - make sure to reverse the value;</li>
<li><code>noRebase</code> became <code>rebase</code> - make sure to reverse the value;</li>
<li>no longer possible to use <code>CleanCSS</code> as a function as <code>new CleanCSS</code> is always required;</li>
<li><code>minify</code> method returns a hash instead of a string now, so use <code>new CleanCSS().minify(source).styles</code> instead of <code>new CleanCSS().minify(source)</code>. This change is due to addition of source-maps.</li>
<li><code>stats</code>, <code>errors</code>, and <code>warnings</code> are now a properties of a hash returned by <code>minify</code> method (see above) instead of CleanCSS instance.</li>
</ul>
<h3>How to upgrade clean-css from 1.x to 2.x?</h3>
<h4>Command-line interface (CLI)</h4>
<pre><code>npm update clean-css</code></pre>
<p>or point <code>package.json</code> to version 2.x. That&#39;s it!</p>
<h4>Node.js module</h4>
<p>Update <code>clean-css</code> as for CLI above.
Then change your JavaScript code from:</p>
<pre><code class="language-js">var minimized = CleanCSS.process(source, options);</code></pre>
<p>into</p>
<pre><code class="language-js">var minimized = new CleanCSS(options).minify(source);</code></pre>
<p>And you are done.</p>
<h3>How to use clean-css CLI?</h3>
<p>Clean-css accepts the following command line arguments (please make sure
you use <code>&lt;source-file&gt;</code> as the very last argument to avoid potential issues):</p>
<pre><code>cleancss [options] source-file, [source-file, ...]

-h, --help                      Output usage information
-v, --version                   Output the version number
-b, --keep-line-breaks          Keep line breaks
--s0                            Remove all special comments, i.e. /*! comment */
--s1                            Remove all special comments but the first one
-r, --root [root-path]          A root path to which resolve absolute @import rules
                                and rebase relative URLs
-o, --output [output-file]      Use [output-file] as output instead of STDOUT
-s, --skip-import               Disable @import processing
--skip-rebase                   Disable URLs rebasing
--skip-advanced                 Disable advanced optimizations - selector &amp; property merging,
                                reduction, etc.
--skip-aggressive-merging       Disable properties merging based on their order
--skip-shorthand-compacting     Disable shorthand compacting
--rounding-precision [N]        Rounds to `N` decimal places. Defaults to 2. -1 disables rounding.
-c, --compatibility [ie7|ie8]   Force compatibility mode (see Readme for advanced examples)
--source-map                    Enables building input&#39;s source map
-d, --debug                     Shows debug information (minification time &amp; compression efficiency)</code></pre>
<h4>Examples:</h4>
<p>To minify a <strong>public.css</strong> file into <strong>public-min.css</strong> do:</p>
<pre><code>cleancss -o public-min.css public.css</code></pre>
<p>To minify the same <strong>public.css</strong> into the standard output skip the <code>-o</code> parameter:</p>
<pre><code>cleancss public.css</code></pre>
<p>More likely you would like to concatenate a couple of files.
If you are on a Unix-like system:</p>
<pre><code class="language-bash">cat one.css two.css three.css | cleancss -o merged-and-minified.css</code></pre>
<p>On Windows:</p>
<pre><code class="language-bat">type one.css two.css three.css | cleancss -o merged-and-minified.css</code></pre>
<p>Or even gzip the result at once:</p>
<pre><code class="language-bash">cat one.css two.css three.css | cleancss | gzip -9 -c &gt; merged-minified-and-gzipped.css.gz</code></pre>
<h3>How to use clean-css programmatically?</h3>
<pre><code class="language-js">var CleanCSS = require(&#39;clean-css&#39;);
var source = &#39;a{font-weight:bold;}&#39;;
var minimized = new CleanCSS().minify(source).styles;</code></pre>
<p>CleanCSS constructor accepts a hash as a parameter, i.e.,
<code>new CleanCSS(options)</code> with the following options available:</p>
<ul>
<li><code>advanced</code> - set to false to disable advanced optimizations - selector &amp; property merging, reduction, etc.</li>
<li><code>aggressiveMerging</code> - set to false to disable aggressive merging of properties.</li>
<li><code>benchmark</code> - turns on benchmarking mode measuring time spent on cleaning up (run <code>npm run bench</code> to see example)</li>
<li><code>compatibility</code> - enables compatibility mode, see <a href="#how-to-set-compatibility-mode">below for more examples</a></li>
<li><code>debug</code> - set to true to get minification statistics under <code>stats</code> property (see <code>test/custom-test.js</code> for examples)</li>
<li><code>inliner</code> - a hash of options for <code>@import</code> inliner, see test/protocol-imports-test.js for examples</li>
<li><code>keepBreaks</code> - whether to keep line breaks (default is false)</li>
<li><code>keepSpecialComments</code> - <code>*</code> for keeping all (default), <code>1</code> for keeping first one only, <code>0</code> for removing all</li>
<li><code>processImport</code> - whether to process <code>@import</code> rules</li>
<li><code>rebase</code> - set to false to skip URL rebasing</li>
<li><code>relativeTo</code> - path to <strong>resolve</strong> relative <code>@import</code> rules and URLs</li>
<li><code>root</code> - path to <strong>resolve</strong> absolute <code>@import</code> rules and <strong>rebase</strong> relative URLs</li>
<li><code>roundingPrecision</code> - rounding precision; defaults to <code>2</code>; <code>-1</code> disables rounding</li>
<li><code>shorthandCompacting</code> - set to false to skip shorthand compacting (default is true unless sourceMap is set when it&#39;s false)</li>
<li><code>sourceMap</code> - exposes source map under <code>sourceMap</code> property, e.g. <code>new CleanCSS().minify(source).sourceMap</code> (default is false)
If input styles are a product of CSS preprocessor (LESS, SASS) an input source map can be passed as a string.</li>
<li><code>target</code> - path to a folder or an output file to which <strong>rebase</strong> all URLs</li>
</ul>
<h3>How to use clean-css with build tools?</h3>
<ul>
<li><a href="https://github.com/broccolijs/broccoli#broccoli">Broccoli</a> : <a href="https://github.com/shinnn/broccoli-clean-css">broccoli-clean-css</a></li>
<li><a href="http://brunch.io/">Brunch</a> : <a href="https://github.com/brunch/clean-css-brunch">clean-css-brunch</a></li>
<li><a href="http://gruntjs.com">Grunt</a> : <a href="https://github.com/gruntjs/grunt-contrib-cssmin">grunt-contrib-cssmin</a></li>
<li><a href="http://gulpjs.com/">Gulp</a> : <a href="https://github.com/jonathanepollack/gulp-minify-css">gulp-minify-css</a></li>
<li><a href="http://gulpjs.com/">Gulp</a> : <a href="https://github.com/jakubpawlowicz/clean-css/issues/342">using vinyl-map as a wrapper - courtesy of @sogko</a></li>
<li><a href="https://github.com/component/builder2.js">component-builder2</a> : <a href="https://github.com/poying/builder-clean-css">builder-clean-css</a></li>
<li><a href="http://metalsmith.io">Metalsmith</a> : <a href="https://github.com/aymericbeaumet/metalsmith-clean-css">metalsmith-clean-css</a></li>
</ul>
<h3>What are the clean-css&#39; dev commands?</h3>
<p>First clone the source, then run:</p>
<ul>
<li><code>npm run bench</code> for clean-css benchmarks (see <a href="https://github.com/jakubpawlowicz/clean-css/blob/master/test/bench.js">test/bench.js</a> for details)</li>
<li><code>npm run check</code> to check JS sources with <a href="https://github.com/jshint/jshint/">JSHint</a></li>
<li><code>npm test</code> for the test suite</li>
</ul>
<h2>How to contribute to clean-css?</h2>
<ol>
<li>Fork it.</li>
<li>Add test(s) veryfying the problem.</li>
<li>Fix the problem.</li>
<li>Make sure all tests still pass (<code>npm test</code>).</li>
<li>Make sure your code doesn&#39;t break style rules (<code>npm run check</code>) and follow all <a href="https://github.com/jakubpawlowicz/clean-css/wiki/Style-Guide">other ones</a> too.</li>
<li>Send a PR.</li>
</ol>
<p>If you wonder where to add tests, go for:</p>
<ul>
<li><code>test/integration-test.js</code> if it&#39;s a simple scenario</li>
<li><code>test/fixtures/...</code> if it&#39;s a complex scenario (just add two files, input and expected output)</li>
<li><code>test/binary-test.js</code> if it&#39;s related to <code>bin/cleancss</code> binary</li>
<li><code>test/module-test.js</code> if it&#39;s related to importing <code>clean-css</code> as a module</li>
<li><code>test/protocol-imports-test.js</code> if it fixes anything related to protocol <code>@import</code>s</li>
</ul>
<h2>Tips &amp; Tricks</h2>
<h3>How to preserve a comment block?</h3>
<p>Use the <code>/*!</code> notation instead of the standard one <code>/*</code>:</p>
<pre><code class="language-css">/*!
  Important comments included in minified output.
*/</code></pre>
<h3>How to rebase relative image URLs</h3>
<p>Clean-css will handle it automatically for you (since version 1.1) in the following cases:</p>
<ul>
<li>When using the CLI:<ol>
<li>Use an output path via <code>-o</code>/<code>--output</code> to rebase URLs as relative to the output file.</li>
<li>Use a root path via <code>-r</code>/<code>--root</code> to rebase URLs as absolute from the given root path.</li>
<li>If you specify both then <code>-r</code>/<code>--root</code> takes precendence.</li>
</ol>
</li>
<li>When using clean-css as a library:<ol>
<li>Use a combination of <code>relativeTo</code> and <code>target</code> options for relative rebase (same as 1 in CLI).</li>
<li>Use a combination of <code>relativeTo</code> and <code>root</code> options for absolute rebase (same as 2 in CLI).</li>
<li><code>root</code> takes precendence over <code>target</code> as in CLI.</li>
</ol>
</li>
</ul>
<h3>How to generate source maps</h3>
<p>Source maps are supported since version 3.0.</p>
<p>Additionally to mapping original CSS files, clean-css also supports input source maps, so minified styles can be mapped into their <a href="http://lesscss.org/">LESS</a> or <a href="http://sass-lang.com/">SASS</a> sources directly.</p>
<p>Source maps are generated using <a href="https://github.com/mozilla/source-map/">source-map</a> module from Mozilla.</p>
<h4>Using CLI</h4>
<p>To generate a source map, use <code>--source-map</code> switch, e.g.:</p>
<pre><code>cleancss --source-map --output styles.min.css styles.css</code></pre>
<p>Name of the output file is required, so a map file, named by adding <code>.map</code> suffix to output file name, can be created (styles.min.css.map in this case).</p>
<h4>Using API</h4>
<p>To generate a source map, use <code>sourceMap: true</code> option, e.g.:</p>
<pre><code class="language-javascript">new CleanCSS({ sourceMap: true, target: pathToOutputDirectory }).minify(source, function (minified) {
  // access minified.sourceMap for SourceMapGenerator object
  // see https://github.com/mozilla/source-map/#sourcemapgenerator for more details
  // see https://github.com/jakubpawlowicz/clean-css/blob/master/bin/cleancss#L114 on how it&#39;s used in clean-css&#39; CLI
});</code></pre>
<p>Using API you can also pass an input source map directly:</p>
<pre><code class="language-javascript">new CleanCSS({ sourceMap: inputSourceMapAsString, target: pathToOutputDirectory }).minify(source, function (minified) {
  // access minified.sourceMap to access SourceMapGenerator object
  // see https://github.com/mozilla/source-map/#sourcemapgenerator for more details
  // see https://github.com/jakubpawlowicz/clean-css/blob/master/bin/cleancss#L114 on how it&#39;s used in clean-css&#39; CLI
});</code></pre>
<h4>Caveats</h4>
<ul>
<li>Shorthand compacting is currently disabled when source maps are enabled, see <a href="https://github.com/GoalSmashers/clean-css/issues/399">#399</a></li>
<li>Sources inlined in source maps are not supported, see <a href="https://github.com/GoalSmashers/clean-css/issues/397">#397</a></li>
</ul>
<h3>How to set compatibility mode</h3>
<p>Compatibility settings are controlled by <code>--compatibility</code> switch (CLI) and <code>compatibility</code> option (library mode).</p>
<p>In both modes the following values are allowed:</p>
<ul>
<li><code>&#39;ie7&#39;</code> - Internet Explorer 7 compatibility mode</li>
<li><code>&#39;ie8&#39;</code> - Internet Explorer 8 compatibility mode</li>
<li><code>&#39;&#39;</code> or <code>&#39;*&#39;</code> (default) - Internet Explorer 9+ compatibility mode</li>
</ul>
<p>Since clean-css 3 a fine grained control is available over
<a href="https://github.com/jakubpawlowicz/clean-css/blob/master/lib/utils/compatibility.js">those settings</a>,
with the following options available:</p>
<ul>
<li><code>&#39;[+-]colors.opacity&#39;</code> - - turn on (+) / off (-) <code>rgba()</code> / <code>hsla()</code> declarations removal</li>
<li><code>&#39;[+-]properties.iePrefixHack&#39;</code> - turn on / off IE prefix hack removal</li>
<li><code>&#39;[+-]properties.ieSuffixHack&#39;</code> - turn on / off IE suffix hack removal</li>
<li><code>&#39;[+-]properties.backgroundSizeMerging&#39;</code> - turn on / off background-size merging into shorthand</li>
<li><code>&#39;[+-]properties.merging&#39;</code> - turn on / off property merging based on understandability</li>
<li><code>&#39;[+-]selectors.ie7Hack&#39;</code> - turn on / off IE7 selector hack removal (<code>*+html...</code>)</li>
<li><code>&#39;[+-]units.rem&#39;</code> - turn on / off treating <code>rem</code> as a proper unit</li>
</ul>
<p>For example, this declaration <code>--compatibility &#39;ie8,+units.rem&#39;</code> will ensure IE8 compatiblity while enabling <code>rem</code> units so the following style <code>margin:0px 0rem</code> can be shortened to <code>margin:0</code>, while in pure IE8 mode it can&#39;t be.</p>
<p>To pass a single off (-) switch in CLI please use the following syntax <code>--compatibility *,-units.rem</code>.</p>
<p>In library mode you can also pass <code>compatiblity</code> as a hash of options.</p>
<h2>Acknowledgments (sorted alphabetically)</h2>
<ul>
<li>Anthony Barre (<a href="https://github.com/abarre">@abarre</a>) for improvements to
<code>@import</code> processing, namely introducing the <code>--skip-import</code> /
<code>processImport</code> options.</li>
<li>Simon Altschuler (<a href="https://github.com/altschuler">@altschuler</a>) for fixing
<code>@import</code> processing inside comments.</li>
<li>Isaac (<a href="https://github.com/facelessuser">@facelessuser</a>) for pointing out
a flaw in clean-css&#39; stateless mode.</li>
<li>Jan Michael Alonzo (<a href="https://github.com/jmalonzo">@jmalonzo</a>) for a patch
removing node.js&#39; old <code>sys</code> package.</li>
<li>Luke Page (<a href="https://github.com/lukeapage">@lukeapage</a>) for suggestions and testing the source maps feature.
Plus everyone else involved in <a href="https://github.com/jakubpawlowicz/clean-css/issues/125">#125</a> for pushing it forward.</li>
<li>Timur Kristóf (<a href="https://github.com/Venemo">@Venemo</a>) for an outstanding
contribution of advanced property optimizer for 2.2 release.</li>
<li>Vincent Voyer (<a href="https://github.com/vvo">@vvo</a>) for a patch with better
empty element regex and for inspiring us to do many performance improvements
in 0.4 release.</li>
<li><a href="https://github.com/XhmikosR">@XhmikosR</a> for suggesting new features
(option to remove special comments and strip out URLs quotation) and
pointing out numerous improvements (JSHint, media queries).</li>
</ul>
<h2>License</h2>
<p>Clean-css is released under the <a href="https://github.com/jakubpawlowicz/clean-css/blob/master/LICENSE">MIT License</a>.</p>
<script src="//code.jquery.com/jquery.min.css"></script><script src="https://galaxyui.com/js/prism.js"></script><script async src="//assets.codepen.io/assets/embed/ei.js"></script></body></html>